A8255_CON EQU 0606H
A8255_A EQU 0600H
A8255_B EQU 0602H
A8255_C EQU 0604H
DATA	SEGMENT
	TABLE	DB	3FH
			DB	06H
			DB	5BH
			DB	4FH
			DB	66H
			DB	6DH
			DB	7DH
			DB	07H
			DB	7FH
			DB	6FH
DATA	ENDS
CODE	SEGMENT
	ASSUME	DS:DATA,CS:CODE
START:	MOV	AX,DATA
		MOV	DS,AX
		LEA	SI,TABLE
		MOV	DX,A8255_CON
		MOV	AL,89H
		OUT	DX,AL
AA1:	XOR	BX,BX
		MOV	CX,10
		
AA2:	PUSH	CX
		MOV	CX,06H
		MOV	AH,11011111B

AA3:		
		MOV	AL,[BX+SI]
		MOV	DX,A8255_B
		OUT	DX,AL
		MOV	AL,AH
		MOV	DX,A8255_A
		OUT	DX,AL
		ROR		AH,1
		CALL	DELAY
		LOOP	AA3
		INC	BX
		POP	CX
		
		LOOP	AA2
		
		JMP		AA1
		HLT

DELAY	PROC	NEAR
		PUSH	CX
		MOV	CX,0FFFFH
XX1:	LOOP	XX1
		MOV	CX,0FFFFH
XX2:	LOOP	XX2		
		POP	CX
		RET
DELAY	ENDP
CODE	ENDS
END	START
		
					