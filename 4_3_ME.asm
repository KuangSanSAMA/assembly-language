CODE	SEGMENT
	ASSUME	CS:CODE
START:	MOV	DX,0686H
		MOV	AL,80H
		OUT	DX,AL
		
		CLI
		MOV	DS,0
		MOV	ES,0
		MOV	AX,OFFSET	IR6
		MOV	SI,0038H
		MOV	[SI],AX
		MOV	AX,SEG	IR6
		MOV	SI,003AH
		MOV	[SI],AX
		STI
		
		CLI
		MOV AL, 11H
    	OUT 20H, AL
    	MOV AL, 08H
    	OUT 21H, AL
    	MOV AL, 04H
    	OUT 21H, AL
    	MOV AL, 01H
    	OUT 21H, AL
    	MOV AL, 3FH
    	OUT 21H, AL
		STI
		
A1:		MOV	DX,0640H
		MOV	AX,0000H
		OUT	DX,AL
		CALL	DELAY
		JMP	A1
		
IR6		PROC	FAR
		PUSH	DX
		MOV	DX,0640H
		IN	AL,DX
		MOV	DX,0682H
		OUT	DX,AL
		MOV	AL,26H
		OUT	20H,AL
		POP	DX
		IRET
IR6		ENDP
	
DELAY	PROC	NEAR
		MOV	CX,0FFFFH
X1:		LOOP	X1
		MOV CX,0FFFFH
X2:		LOOP	X2
		RET
DELAY	ENDP
CODE	ENDS
END		START