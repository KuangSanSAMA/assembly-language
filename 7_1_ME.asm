DATA	SEGMENT
	ORG	3000H
	NUM	DB	1,2,3,4,5,6,7,8,9,10
DATA	ENDS
CODE	SEGMENT
	ASSUME	DS:DATA,CS:CODE
START:	
		
		MOV	AX,DATA
		MOV	DS,AX
		
		MOV	DX,0646H
		MOV	AL,10000000B
		OUT	DX,AL
		MOV	DX,0640H
		MOV	AL,00H
		OUT	DX,AL
		
		MOV	DX,06C6H
		MOV	AL,10010110B
		OUT	DX,AL
		MOV	AL,0C0H
		MOV	DX,06C4H
		OUT	DX,AL
		
		MOV	SI,3000H
		MOV	DI,4000H
		MOV	CX,10
		
		MOV	DX,0602H
		MOV	AL,00H
		OUT	DX,AL
;		CALL	DELAY
		
		MOV	DX,0602H
		MOV	AL,40H
		OUT	DX,AL
;		CALL	DELAY
		
		MOV	DX,0602H
		MOV	AL,01111110B
		OUT	DX,AL
;		CALL	DELAY
		
		MOV	AL,37H
		OUT	DX,AL
;		CALL	DELAY
		
X1:		
		MOV	AL,[SI]
		MOV	DX,0600H
		OUT	DX,AL
;		CALL	DELAY
		
		MOV	DX,0602H
		IN 	AL,DX
		TEST	AL,01H
		JZ	X1

		INC SI
X2:		MOV	DX,0602H
		IN	AL,DX	
		TEST	AL,02H
		JZ	X2
		
		MOV	DX,0600H
		IN	AL,DX
		MOV	[DI],AL
		
		INC	DI

		LOOP	X1
		
		HLT


DELAY	PROC	NEAR
	PUSH	CX
	MOV	CX,0FFFFH
Z1:	LOOP	Z1
	POP		CX
	RET
DELAY	ENDP


CODE	ENDS
END	START
		
		